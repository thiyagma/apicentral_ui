{"version":3,"sources":["../server/api.js"],"names":["router","Router","post","req","res","body","email","password","statusMessage","status","end","name","split","replace","now","Date","token","getTime","session","json","delete","undefined","module","exports"],"mappings":";;AAAA;;;;AACA;;;;AAEA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEAD,OAAOE,IAAP,CAAY,WAAZ,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,kBACTD,IAAIE,IADK;AAAA,MAC7BC,KAD6B,aAC7BA,KAD6B;AAAA,MACtBC,QADsB,aACtBA,QADsB;;AAErC,MAAI,CAACD,KAAD,IAAU,CAACC,QAAX,IAAuBD,UAAU,OAArC,EAA8C;AAC5CF,QAAII,aAAJ,GAAoB,2BAApB;AACAJ,QAAIK,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,GAHD,MAGO;AACL,QAAMC,OAAOL,MAAMM,KAAN,CAAY,GAAZ,EAAiB,CAAjB,EAAoBC,OAApB,CAA4B,MAA5B,EAAoC,GAApC,CAAb,CADK,CACkD;AACvD,QAAMC,MAAM,IAAIC,IAAJ,EAAZ;AACA,QAAMC,mBAAiBF,IAAIG,OAAJ,EAAvB,CAHK,CAGmC;AACxC,QAAMC,UAAU,EAAEZ,YAAF,EAASK,UAAT,EAAeK,YAAf,EAAhB;AACA,0BAAWA,KAAX,EAAkBE,OAAlB;AACAd,QAAIe,IAAJ,CAASD,OAAT;AACD;AACF,CAbD;;AAgBAlB,OAAOoB,MAAP,CAAc,aAAd,EAA6B,UAACjB,GAAD,EAAMC,GAAN,EAAc;AACzCA,MAAIe,IAAJ,CAASE,SAAT;AACD,CAFD;;AAIAC,OAAOC,OAAP,GAAiBvB,MAAjB","file":"api.js","sourcesContent":["import express from 'express';\r\nimport { addSession, getTasks, getTask } from './data';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/sessions', (req, res) => {\r\n  const { email, password } = req.body;\r\n  if (!email || !password || email === 'error') {\r\n    res.statusMessage = 'Invalid email or password';\r\n    res.status(401).end();\r\n  } else {\r\n    const name = email.split('@')[0].replace(/\\.|_/, ' '); // simulated\r\n    const now = new Date();\r\n    const token = `token-${now.getTime()}`; // simulated\r\n    const session = { email, name, token };\r\n    addSession(token, session);\r\n    res.json(session);\r\n  }\r\n});\r\n\r\n\r\nrouter.delete('/sessions/*', (req, res) => {\r\n  res.json(undefined);\r\n});\r\n\r\nmodule.exports = router;\r\n"]}